[
  {
    "Id": "1447262",
    "ThreadId": "645868",
    "Html": "Hi, I'm trying to make a grammar for the language below:<br />\n<pre><code># UI properties for Person Selection window\n\n&lt;Begin&gt;\n\n    # Images ---------------------------------------------------------------------------------------\n\n    &lt;DefineImage &quot;BackgroundImage&quot;                assetID=&quot;0x000003FA00000001&quot;&gt; #./uigraphics/personselection/person_select_background.bmp&quot;&gt;\n    &lt;DefineImage &quot;TabBackgroundImage&quot;            assetID=&quot;0x000007CB00000001&quot;&gt; #./uigraphics/personselection/person_select_tabsback.bmp\n    &lt;DefineImage &quot;DescriptionBackgroundImage&quot;    assetID=&quot;0x000007BE00000001&quot;&gt; #./uigraphics/personselection/person_select_descriptionback.bmp    \n    &lt;DefineImage &quot;DescriptionTabImage&quot;            assetID=&quot;0x000007BF00000001&quot;&gt; #./uigraphics/personselection/person_select_descriptiontab.bmp\n    &lt;DefineImage &quot;DescriptionTabBtnImage&quot;        assetID=&quot;0x000007C000000001&quot;&gt; #./uigraphics/personselection/person_select_descriptiontabbtn.bmp\n    &lt;DefineImage &quot;EnterTabBtnImage&quot;                assetID=&quot;0x000007C100000001&quot;&gt; #./uigraphics/personselection/person_select_entertabbtn.bmp\n    &lt;DefineImage &quot;EnterTabImage&quot;                assetID=&quot;0x000007C400000001&quot;&gt; #./uigraphics/personselection/person_select_icontab.bmp\n    &lt;DefineImage &quot;EnterTabIndentsImage&quot;            assetID=&quot;0x000007C300000001&quot;&gt; #./uigraphics/personselection/person_select_iconsindents.bmp\n    &lt;DefineImage &quot;ExitButtonImage&quot;                assetID=&quot;0x000003FF00000001&quot;&gt; #./uigraphics/personselection/person_select_exitBtn.bmp&quot;&gt;\n    &lt;DefineImage &quot;SimCreateButtonImage&quot;            assetID=&quot;0x000007C800000001&quot;&gt; #./uigraphics/personselection/person_select_simcreatebtn.bmp\n    &lt;DefineImage &quot;SimSelectButtonImage&quot;            assetID=&quot;0x000007C900000001&quot;&gt; #./uigraphics/personselection/person_select_simselectbtn.bmp\n    &lt;DefineImage &quot;ScrollbarImage&quot;                assetID=&quot;0x0000031000000001&quot;&gt; #./uigraphics/gizmo/gizmo_scrollbarimg.bmp\n    &lt;DefineImage &quot;ScrollDownButtonImage&quot;        assetID=&quot;0x000003F800000001&quot;&gt; #./uigraphics/personselection/person_select_arrowdownbtn.bmp\n    &lt;DefineImage &quot;ScrollUpButtonImage&quot;            assetID=&quot;0x000003F900000001&quot;&gt; #./uigraphics/personselection/person_select_arrowupbtn.bmp\n    &lt;DefineImage &quot;HouseButtonTemplateImage&quot;        assetID=&quot;0x000003DB00000001&quot;&gt; #./uigraphics/personselection/cas-sas-templatehouse.bmp\n    &lt;DefineImage &quot;CityButtonTemplateImage&quot;        assetID=&quot;0x000003DA00000001&quot;&gt; #./uigraphics/personselection/cas-sas-templatecity.bmp\n    &lt;DefineImage &quot;CityHouseButtonAlpha&quot;            assetID=&quot;0x0000017900000002&quot;&gt; #./uigraphics/personselection/person_select_cityhouseiconalpha.tga\n    &lt;DefineImage &quot;DefaultHouseImage&quot;            assetID=&quot;0x000004CC00000001&quot;&gt;\n    &lt;DefineImage &quot;CreditsButtonImage&quot;            assetID=&quot;0x0000089500000001&quot;&gt; #./uigraphics/personselection/cas-sas-creditsbtn.bmp\n    &lt;DefineImage &quot;CreditsBackgroundImage&quot;        assetID=&quot;0x0000089600000001&quot;&gt; #./uigraphics/personselection/cas-sas-creditsindent.bmp    \n    &lt;DefineImage &quot;CityThumbnailBusyImage&quot;        assetID=&quot;0x00000B8200000001&quot;&gt; #./uigraphics/personselection/person_select_cityhouseiconbusy.tga\n\n    # Strings --------------------------------------------------------------------------------------\n\n    &lt;Begin&gt;&lt;SetSharedProperties stringDir = &quot;UIText&quot; stringTable = 169&gt;\n\nMy grammar looks like:\n</code></pre>\n\nusing System;\r<br />\nusing System.Collections.Generic;\r<br />\nusing System.Text;\r<br />\nusing Irony.Parsing;\r<br />\nusing Irony.Ast;\r<br />\n<br />\nnamespace UIParser\r<br />\n{<br />\n<pre><code>[Language(&quot;TSO UIScript&quot;, &quot;1.0&quot;, &quot;TSO UIScript parser&quot;)]\npublic class UIGrammar : Grammar\n{\n    public UIGrammar()\n    {\n        StringLiteral STRING = new StringLiteral(&quot;STRING&quot;, &quot;\\&quot;&quot;, StringOptions.None);\n        NumberLiteral NUMBER = new NumberLiteral(&quot;NUMBER&quot;, NumberOptions.None);\n        //NUMBER.DecimalSeparator = '.';\n        NUMBER.AddPrefix(&quot;(&quot;, NumberOptions.IntOnly);\n        NUMBER.AddSuffix(&quot;)&quot;);\n        //ints that are too long for int32 are converted to int64\n        NUMBER.DefaultIntTypes = new TypeCode[] { TypeCode.Int32, TypeCode.Int64 };\n\n        CommentTerminal LINE_COMMENT = new CommentTerminal(&quot;LINE_COMMENT&quot;, &quot;#&quot;, &quot;\\n&quot;, &quot;\\r\\n&quot;);\n        NonGrammarTerminals.Add(LINE_COMMENT);\n\n        NonTerminal BEGIN = new NonTerminal(&quot;BEGIN&quot;);\n        NonTerminal START_STATEMENT = new NonTerminal(&quot;START_STATEMENT&quot;);                     //&lt; LINE_CONTENT &gt;\n        NonTerminal LINE_CONTENT = new NonTerminal(&quot;LINE_CONTENT&quot;);                           //Any of the below.\n        NonTerminal BEGIN_STATEMENT = new NonTerminal(&quot;BEGIN_STATEMENT&quot;);                     //&lt;\n        NonTerminal DEFINEIMAGE_STATEMENT = new NonTerminal(&quot;DEFINEIMAGE_STATEMENT&quot;);         //&lt;Begin&gt;\n        NonTerminal DEFINESTRING_STATEMENT = new NonTerminal(&quot;DEFINESTRING_STATEMENT&quot;);       //&lt;DefineString&gt;\n        NonTerminal SETSHAREDPROPS_STATEMENT = new NonTerminal(&quot;SETSHAREDPROPS_STATEMENT&quot;);   \n        NonTerminal SETSHAREDPROPS = new NonTerminal(&quot;SETSHAREDPROPS&quot;);                       //&lt;SetSharedProperties&gt;\n        NonTerminal SHAREDPROPS_ARG = new NonTerminal(&quot;SHAREDPROPS_ARG&quot;);                     //stringDir, leftArrowImage, trigger\n        NonTerminal SETCONTROLPROPS_STATEMENT = new NonTerminal(&quot;SETCONTROLPROPS_STATEMENT&quot;); \n        NonTerminal SETCONTROLPROPS = new NonTerminal(&quot;SETCONTROLPROPS&quot;);                     //&lt;SetControlProperties&gt;\n        NonTerminal CONTROLPROPS_ARG = new NonTerminal(&quot;CONTROLPROPS_ARG1&quot;);                 //image\n        NonTerminal END_STATEMENT = new NonTerminal(&quot;END_STATEMENT&quot;);                         //&gt;\n        NonTerminal ARRAY = new NonTerminal(&quot;ARRAY&quot;);                                         //(1,2,3,4)\n        NonTerminal ARRAYNUMBER = new NonTerminal(&quot;ARRAYNUMBER&quot;);                             //1, 2, 3, 4\n        NonTerminal END_IDENTIFIER = new NonTerminal(&quot;END_IDENTIFIER&quot;);                       //&lt;End&gt;\n\n        IdentifierTerminal STRINGDIR = new IdentifierTerminal(&quot;STRINGDIR&quot;),\n            STRINGTABLE = new IdentifierTerminal(&quot;STRINGTABLE&quot;),\n            LEFTARROWIMAGE = new IdentifierTerminal(&quot;LEFTARROWIMAGE&quot;),\n            RIGHTARROWIMAGE = new IdentifierTerminal(&quot;RIGHTARROWIMAGE&quot;),\n            TRACKING = new IdentifierTerminal(&quot;TRACKING&quot;),\n            TRIGGER = new IdentifierTerminal(&quot;TRIGGER&quot;),\n            IMAGE = new IdentifierTerminal(&quot;IMAGE&quot;),\n            POSITION = new IdentifierTerminal(&quot;POSITION&quot;),\n            SIZE = new IdentifierTerminal(&quot;SIZE&quot;);\n        STRINGDIR.AddPrefix(&quot;stringDir&quot;, IdOptions.None);\n        STRINGTABLE.AddPrefix(&quot;stringTable&quot;, IdOptions.None);\n        LEFTARROWIMAGE.AddPrefix(&quot;leftArrowImage&quot;, IdOptions.None);\n        RIGHTARROWIMAGE.AddPrefix(&quot;rightArrowImage&quot;, IdOptions.None);\n        TRACKING.AddPrefix(&quot;tracking&quot;, IdOptions.None);\n        TRIGGER.AddPrefix(&quot;trigger&quot;, IdOptions.None);\n        IMAGE.AddPrefix(&quot;image&quot;, IdOptions.None);\n        POSITION.AddPrefix(&quot;position&quot;, IdOptions.None);\n        SIZE.AddPrefix(&quot;size&quot;, IdOptions.None);\n\n        KeyTerm COMMA = new KeyTerm(&quot;,&quot;, &quot;COMMA&quot;);\n\n        //Rules\n        START_STATEMENT.Rule = Empty | &quot;&lt;&quot; + LINE_CONTENT + END_STATEMENT;\n        LINE_CONTENT.Rule = Empty | BEGIN_STATEMENT | DEFINEIMAGE_STATEMENT | SETSHAREDPROPS_STATEMENT | \n            SETCONTROLPROPS_STATEMENT | DEFINESTRING_STATEMENT | END_IDENTIFIER;\n        BEGIN_STATEMENT.Rule = &quot;Begin&quot;;\n        DEFINEIMAGE_STATEMENT.Rule = &quot;DefineImage&quot; + STRING + &quot;assetID&quot; + &quot;=&quot; + STRING;\n        DEFINESTRING_STATEMENT.Rule = &quot;DefineString&quot; + STRING + &quot;stringIndex&quot; + &quot;=&quot; + NUMBER;\n\n        SETSHAREDPROPS_STATEMENT.Rule = MakePlusRule(SETSHAREDPROPS, SHAREDPROPS_ARG);\n        SETSHAREDPROPS.Rule = &quot;SetSharedProperties&quot;;\n        SHAREDPROPS_ARG.Rule = STRINGDIR + &quot;=&quot; + STRING | LEFTARROWIMAGE + &quot;=&quot; + STRING  | TRACKING + &quot;=&quot; + NUMBER | \n            IMAGE + &quot;=&quot; + STRING | STRINGTABLE + &quot;=&quot; + NUMBER | RIGHTARROWIMAGE + &quot;=&quot; + STRING | TRIGGER + &quot;=&quot; + NUMBER;\n\n        SETCONTROLPROPS_STATEMENT.Rule = MakePlusRule(SETCONTROLPROPS, CONTROLPROPS_ARG);\n        SETCONTROLPROPS.Rule = &quot;SetControlProperties&quot;;\n        CONTROLPROPS_ARG.Rule = IMAGE + &quot;=&quot; + STRING | POSITION + &quot;=&quot; + ARRAY | SIZE + &quot;=&quot; + ARRAY;\n\n        ARRAY.Rule = MakePlusRule(ARRAYNUMBER, COMMA, NUMBER);\n        ARRAYNUMBER.Rule = NUMBER;\n\n        END_STATEMENT.Rule = &quot;&gt;&quot;;\n        END_IDENTIFIER.Rule = &quot;End&quot;;\n        BEGIN.Rule = MakePlusRule(BEGIN, START_STATEMENT);\n\n        this.Root = BEGIN;\n    }\n}</code></pre>\n\n}\r<br />\n<br />\n```\r\n\r\nThe Grammar Explorer gets to SetSharedProperties, expecting a NUMBER after stringDir. Why?<br />\n",
    "PostedDate": "2015-10-06T05:39:46.643-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1447371",
    "ThreadId": "645868",
    "Html": "hi\r<br />\nfirst question - does grammar explorer show any conflicts? if yes, fix them. Then if you have no conflicts, and parser stumbles at some state, go inspect productions in this state and see what's missing - from state productions you can usually get the picture of what's going on\r<br />\nhope this helps<br />\n",
    "PostedDate": "2015-10-06T20:24:25.603-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1449582",
    "ThreadId": "645868",
    "Html": "Thanks for your reply!\r<br />\nI managed to get the parser to parse, and I even generated an AST. But I discovered that both &quot;tooltip&quot; and &quot;toolTip&quot; are being used in my language, and so I tried to encompass that in my grammar. But it crashes the GrammarExplorer :( The same thing happens when I try to set caseSensitive to false.\r<br />\nHere's my current grammar:<br />\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Text;\nusing Irony.Interpreter.Ast;\nusing UIParser.Nodes;\nusing Irony.Parsing;\nusing Irony.Ast;\n\nnamespace UIParser\n{\n    [Language(&quot;TSO UIScript&quot;, &quot;1.0&quot;, &quot;TSO UIScript parser&quot;)]\n    public class UIGrammar : Grammar\n    {\n        public UIGrammar() : base(/*caseSensitive: false*/)\n        {\n            LanguageFlags = LanguageFlags.CreateAst;\n\n            StringLiteral STRING = new StringLiteral(&quot;STRING&quot;, &quot;\\&quot;&quot;, StringOptions.None);\n            NumberLiteral NUMBER = new NumberLiteral(&quot;NUMBER&quot;, NumberOptions.None);\n            //ints that are too long for int32 are converted to int64\n            NUMBER.DefaultIntTypes = new TypeCode[] { TypeCode.Int32, TypeCode.Int64 };\n\n            STRING.AstConfig.NodeType = typeof(StringValueNode);\n            NUMBER.AstConfig.NodeType = typeof(NumberValueNode);\n\n            CommentTerminal LINE_COMMENT = new CommentTerminal(&quot;LINE_COMMENT&quot;, &quot;#&quot;, &quot;\\n&quot;, &quot;\\r\\n&quot;);\n            NonGrammarTerminals.Add(LINE_COMMENT);\n\n            NonTerminal BEGIN = new NonTerminal(&quot;BEGIN&quot;, typeof(BeginNode));\n            NonTerminal START_STATEMENT = new NonTerminal(&quot;START_STATEMENT&quot;, typeof(StartStatementNode));                      //&lt; LINE_CONTENT &gt;\n            NonTerminal LINE_CONTENT = new NonTerminal(&quot;LINE_CONTENT&quot;, typeof(LineContentNode));                               //Any of the below.\n            NonTerminal BEGIN_STATEMENT = new NonTerminal(&quot;BEGIN_STATEMENT&quot;, typeof(BeginStatementNode));                      //&lt;Begin&gt;\n            NonTerminal ASSIGNMENT = new NonTerminal(&quot;ASSIGNMENT&quot;, typeof(UIParser.Nodes.AssignmentNode));                     //Argument = STRING | NUMBER\n            NonTerminal ASSIGNMENTBLOCK = new NonTerminal(&quot;ASSIGNMENTBLOCK&quot;, typeof(AssignmentBlockNode));\n            NonTerminal DEFINEIMAGE_STATEMENT = new NonTerminal(&quot;DEFINEIMAGE_STATEMENT&quot;, typeof(DefineImageNode));             //&lt;DefineImage&gt;\n            NonTerminal DEFINESTRING_STATEMENT = new NonTerminal(&quot;DEFINESTRING_STATEMENT&quot;, typeof(DefineStringNode));          //&lt;DefineString&gt;\n            NonTerminal SETSHAREDPROPS_STATEMENT = new NonTerminal(&quot;SETSHAREDPROPS_STATEMENT&quot;, typeof(SetSharedPropsNode));    //&lt;SetSharedProperties&gt;\n            NonTerminal ADDBUTTON_STATEMENT = new NonTerminal(&quot;ADDBUTTON_STATEMENT&quot;, typeof(AddButtonNode));                   //&lt;AddButton&gt;\n            NonTerminal ADDTEXT_STATEMENT = new NonTerminal(&quot;ADDTEXT_STATEMENT&quot;, typeof(AddTextNode));                         //&lt;AddText&gt;         \n            NonTerminal ADDTEXTEDIT_STATEMENT = new NonTerminal(&quot;ADDTEXTEDIT_STATEMENT&quot;, typeof(AddTextEditNode));             //&lt;AddTextEdit&gt;\n            NonTerminal ADDSLIDER_STATEMENT = new NonTerminal(&quot;ADDSLIDER_STATEMENT&quot;, typeof(AddSliderNode));                   //&lt;AddSlider&gt;\n            NonTerminal ADDPROGRESSBAR_STATEMENT = new NonTerminal(&quot;ADDPROGRESSBAR_STATEMENT&quot;, typeof(AddProgressBarNode));    //&lt;AddProgressBar&gt;     \n            NonTerminal ADDLISTBOX_STATEMENT = new NonTerminal(&quot;ADDLISTBOX_STATEMENT&quot;, typeof(AddListboxNode));                //&lt;AddListBox&gt;      \n            NonTerminal ADDFORMATEDTEXT_STATEMENT = new NonTerminal(&quot;ADDFORMATEDTEXT&quot;, typeof(AddFormatedTextNode));           //&lt;AddFormattedText&gt;\n            NonTerminal SETCONTROLPROPS_STATEMENT = new NonTerminal(&quot;SETCONTROLPROPS_STATEMENT&quot;, typeof(SetControlPropsNode)); //&lt;SetControlProperties&gt;                    \n            NonTerminal ARRAY = new NonTerminal(&quot;ARRAY&quot;, typeof(ArrayNode));\n            NonTerminal ARRAYLIST = new NonTerminal(&quot;ARRAYLIST&quot;, typeof(ArrayListNode));                                       //(1,2,3,4)\n\n            NonTerminal END_IDENTIFIER = new NonTerminal(&quot;END_IDENTIFIER&quot;, typeof(EndNode));                                   //&lt;End&gt;\n\n            KeyTerm COMMA = new KeyTerm(&quot;,&quot;, &quot;COMMA&quot;);\n            COMMA.AstConfig.NodeType = typeof(CommaNode);\n\n            //Rules\n            START_STATEMENT.Rule = Empty | ToTerm(&quot;&lt;&quot;) + LINE_CONTENT + ToTerm(&quot;&gt;&quot;);\n            LINE_CONTENT.Rule = Empty | BEGIN_STATEMENT | DEFINEIMAGE_STATEMENT | SETSHAREDPROPS_STATEMENT | \n                SETCONTROLPROPS_STATEMENT | ADDBUTTON_STATEMENT | ADDTEXT_STATEMENT | ADDTEXTEDIT_STATEMENT | \n                ADDSLIDER_STATEMENT | ADDPROGRESSBAR_STATEMENT | ADDLISTBOX_STATEMENT | ADDFORMATEDTEXT_STATEMENT | \n                DEFINESTRING_STATEMENT | END_IDENTIFIER;\n            BEGIN_STATEMENT.Rule = &quot;Begin&quot;;\n            DEFINEIMAGE_STATEMENT.Rule = ToTerm(&quot;DefineImage&quot;) + STRING + ASSIGNMENTBLOCK;\n            DEFINESTRING_STATEMENT.Rule = ToTerm(&quot;DefineString&quot;) + STRING + ASSIGNMENTBLOCK;\n\n            ASSIGNMENT.Rule = ToTerm(&quot;stringDir&quot;) + ToTerm(&quot;=&quot;) + STRING | ToTerm(&quot;stringTable&quot;) + ToTerm(&quot;=&quot;) + NUMBER |\n                ToTerm(&quot;leftArrowImage&quot;) + ToTerm(&quot;=&quot;) + STRING | ToTerm(&quot;rightArrowImage&quot;) + ToTerm(&quot;=&quot;) + STRING |\n                ToTerm(&quot;tracking&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;trigger&quot;) + ToTerm(&quot;=&quot;) + NUMBER |\n                ToTerm(&quot;image&quot;) + ToTerm(&quot;=&quot;) + STRING | ToTerm(&quot;position&quot;) + ToTerm(&quot;=&quot;) + ARRAY |\n                ToTerm(&quot;size&quot;) + ToTerm(&quot;=&quot;) + ARRAY | ToTerm(&quot;tooltip&quot;) + ToTerm(&quot;=&quot;) + STRING |\n                ToTerm(&quot;toolTip&quot;) + ToTerm(&quot;=&quot;) + STRING | ToTerm(&quot;id&quot;) + ToTerm(&quot;=&quot;) + NUMBER | \n                ToTerm(&quot;orientation&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;opaque&quot;) + ToTerm(&quot;=&quot;) + NUMBER | \n                ToTerm(&quot;assetID&quot;) + ToTerm(&quot;=&quot;) + STRING |ToTerm(&quot;stringIndex&quot;) + ToTerm(&quot;=&quot;) + NUMBER | \n                ToTerm(&quot;text&quot;) + ToTerm(&quot;=&quot;) + STRING | ToTerm(&quot;font&quot;) + ToTerm(&quot;=&quot;) + NUMBER | \n                ToTerm(&quot;textColor&quot;) + ToTerm(&quot;=&quot;) + ARRAY | ToTerm(&quot;textColorSelected&quot;) + ToTerm(&quot;=&quot;) + ARRAY | \n                ToTerm(&quot;textColorHighlighted&quot;) + ToTerm(&quot;=&quot;) + ARRAY | ToTerm(&quot;textColorDisabled&quot;) + ToTerm(&quot;=&quot;) + ARRAY | \n                ToTerm(&quot;textButton&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;color&quot;) + ToTerm(&quot;=&quot;) + ARRAY | \n                ToTerm(&quot;alignment&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;backColor&quot;) + ToTerm(&quot;=&quot;) + ARRAY | \n                ToTerm(&quot;frameOnFocus&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;cursorColor&quot;) + ToTerm(&quot;=&quot;) + ARRAY | \n                ToTerm(&quot;transparent&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;frameColor&quot;) + ToTerm(&quot;=&quot;) + ARRAY | \n                ToTerm(&quot;capacity&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;lines&quot;) + ToTerm(&quot;=&quot;) + NUMBER | \n                ToTerm(&quot;flashOnEmpty&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;thumbSize&quot;) + ToTerm(&quot;=&quot;) + ARRAY | \n                ToTerm(&quot;thumbMargins&quot;) + ToTerm(&quot;=&quot;) + ARRAY | ToTerm(&quot;thumbImageSize&quot;) + ToTerm(&quot;=&quot;) + ARRAY | \n                ToTerm(&quot;thumbImageOffsets&quot;) + ToTerm(&quot;=&quot;) + ARRAY | ToTerm(&quot;thumbButtonImage&quot;) + ToTerm(&quot;=&quot;) + STRING | \n                ToTerm(&quot;wrapped&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;textColor&quot;) + ToTerm(&quot;=&quot;) + ARRAY |  \n                ToTerm(&quot;mode&quot;) + ToTerm(&quot;=&quot;) + STRING | ToTerm(&quot;scrollBarImage&quot;) + ToTerm(&quot;=&quot;) + STRING | \n                ToTerm(&quot;scrollBarGutter&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;scrollBarType&quot;) + ToTerm(&quot;=&quot;) + NUMBER | \n                ToTerm(&quot;enableIME&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;highlighted&quot;) + ToTerm(&quot;=&quot;) + NUMBER | \n                ToTerm(&quot;minValue&quot;) + ToTerm(&quot;=&quot;) + NUMBER | ToTerm(&quot;maxValue&quot;) + ToTerm(&quot;=&quot;) + NUMBER | \n                ToTerm(&quot;pageSize&quot;) + ToTerm(&quot;=&quot;) + NUMBER;\n            //This means &quot;assignmentblock is assignment followed by n assignments&quot;. \n            ASSIGNMENTBLOCK.Rule = MakePlusRule(ASSIGNMENTBLOCK, ASSIGNMENT);\n\n            SETSHAREDPROPS_STATEMENT.Rule = ToTerm(&quot;SetSharedProperties&quot;) + ASSIGNMENTBLOCK;\n            SETCONTROLPROPS_STATEMENT.Rule = ToTerm(&quot;SetControlProperties&quot;) + STRING + ASSIGNMENTBLOCK | \n                ToTerm(&quot;SetControlProperties&quot;) + STRING;\n\n            ADDBUTTON_STATEMENT.Rule = ToTerm(&quot;AddButton&quot;) + STRING + ASSIGNMENTBLOCK;\n            ADDTEXT_STATEMENT.Rule = ToTerm(&quot;AddText&quot;) + STRING + ASSIGNMENTBLOCK;\n            ADDTEXTEDIT_STATEMENT.Rule = ToTerm(&quot;AddTextEdit&quot;) + STRING + ASSIGNMENTBLOCK;\n            ADDSLIDER_STATEMENT.Rule = ToTerm(&quot;AddSlider&quot;) + STRING + ASSIGNMENTBLOCK;\n            ADDPROGRESSBAR_STATEMENT.Rule = ToTerm(&quot;AddProgressBar&quot;) + STRING + ASSIGNMENTBLOCK;\n            ADDLISTBOX_STATEMENT.Rule = ToTerm(&quot;AddListBox&quot;) + STRING + ASSIGNMENTBLOCK;\n            ADDFORMATEDTEXT_STATEMENT.Rule = ToTerm(&quot;AddFormatedText&quot;) + STRING + ASSIGNMENTBLOCK;\n\n            ARRAY.Rule = ToTerm(&quot;(&quot;) + ARRAYLIST + &quot;)&quot;;\n            ARRAYLIST.Rule = MakeStarRule(ARRAYLIST, COMMA, NUMBER);\n\n            END_IDENTIFIER.Rule = &quot;End&quot;;\n            BEGIN.Rule = MakePlusRule(BEGIN, START_STATEMENT);\n\n            this.Root = BEGIN;\n        }\n    }\n}\n</code></pre>\n\n",
    "PostedDate": "2015-10-24T07:48:48.833-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1449583",
    "ThreadId": "645868",
    "Html": "Here's the exception thrown by GrammarExplorer:<br />\n<pre><code>System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.\nParameter name: index\n   at System.ThrowHelper.ThrowArgumentOutOfRangeException(ExceptionArgument argument, ExceptionResource resource)\n   at System.Collections.Generic.List`1.get_Item(Int32 index)\n   at UIParser.Nodes.AddButtonNode.InitChildren(ParseTreeNodeList nodes)\n   at UIParser.Nodes.UINode.Init(AstContext context, ParseTreeNode treeNode)\n   at Irony.Ast.AstBuilder.BuildAst(ParseTreeNode parseNode) in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony\\Ast\\AstBuilder.cs:line 101\n   at Irony.Ast.AstBuilder.BuildAst(ParseTreeNode parseNode) in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony\\Ast\\AstBuilder.cs:line 86\n   at Irony.Ast.AstBuilder.BuildAst(ParseTreeNode parseNode) in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony\\Ast\\AstBuilder.cs:line 86\n   at Irony.Ast.AstBuilder.BuildAst(ParseTreeNode parseNode) in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony\\Ast\\AstBuilder.cs:line 86\n   at Irony.Ast.AstBuilder.BuildAst(ParseTree parseTree) in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony\\Ast\\AstBuilder.cs:line 38\n   at Irony.Parsing.Grammar.BuildAst(LanguageData language, ParseTree parseTree) in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony\\Parsing\\Grammar\\Grammar.cs:line 500\n   at Irony.Parsing.Parser.Parse(String sourceText, String fileName) in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony\\Parsing\\Parser\\Parser.cs:line 88\n   at Irony.GrammarExplorer.fmGrammarExplorer.ParseSample() in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony.GrammarExplorer\\fmGrammarExplorer.cs:line 348\n   at Irony.GrammarExplorer.fmGrammarExplorer.btnParse_Click(Object sender, EventArgs e) in C:\\Users\\Afr0\\Documents\\GitHub\\Project-Dollhouse\\Other\\libs\\UIParser\\UIParser\\Irony_2013_12_12\\Irony.GrammarExplorer\\fmGrammarExplorer.cs:line 507\n   at System.Windows.Forms.Control.OnClick(EventArgs e)\n   at System.Windows.Forms.Button.OnClick(EventArgs e)\n   at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)\n   at System.Windows.Forms.Control.WmMouseUp(Message&amp; m, MouseButtons button, Int32 clicks)\n   at System.Windows.Forms.Control.WndProc(Message&amp; m)\n   at System.Windows.Forms.ButtonBase.WndProc(Message&amp; m)\n   at System.Windows.Forms.Button.WndProc(Message&amp; m)\n   at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message&amp; m)\n   at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message&amp; m)\n   at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)</code></pre>\n\nHere's the conflict:<br />\n<pre><code>State S172 (Inadequate)\n  Reduce-reduce conflicts on inputs: stringDir stringTable leftArrowImage rightArrowImage tracking trigger image position size tooltip toolTip id orientation opaque assetID stringIndex text font textColor textColorSelected textColorHighlighted textColorDisabled textButton color alignment backColor frameOnFocus cursorColor transparent frameColor capacity lines flashOnEmpty thumbSize thumbMargins thumbImageSize thumbImageOffsets thumbButtonImage wrapped mode scrollBarImage scrollBarGutter scrollBarType enableIME highlighted minValue maxValue pageSize &gt;\n  Reduce items:\n    ASSIGNMENT -&gt; textColor = ARRAY · [stringDir stringTable leftArrowImage rightArrowImage tracking trigger image position size tooltip toolTip id orientation opaque assetID stringIndex text font textColor textColorSelected textColorHighlighted textColorDisabled textButton color alignment backColor frameOnFocus cursorColor transparent frameColor capacity lines flashOnEmpty thumbSize thumbMargins thumbImageSize thumbImageOffsets thumbButtonImage wrapped mode scrollBarImage scrollBarGutter scrollBarType enableIME highlighted minValue maxValue pageSize &gt;]\n    ASSIGNMENT -&gt; textColor = ARRAY · [stringDir stringTable leftArrowImage rightArrowImage tracking trigger image position size tooltip toolTip id orientation opaque assetID stringIndex text font textColor textColorSelected textColorHighlighted textColorDisabled textButton color alignment backColor frameOnFocus cursorColor transparent frameColor capacity lines flashOnEmpty thumbSize thumbMargins thumbImageSize thumbImageOffsets thumbButtonImage wrapped mode scrollBarImage scrollBarGutter scrollBarType enableIME highlighted minValue maxValue pageSize &gt;]\n  Transitions: </code></pre>\n\n",
    "PostedDate": "2015-10-24T07:50:17.253-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1449586",
    "ThreadId": "645868",
    "Html": "Here's the file I was testing on:<br />\n<pre><code># UI properties for Person Edit view window\n\n&lt;Begin&gt;\n\n    # Images --------------------------------------------------------------------------------------\n\n    &lt;DefineImage &quot;BackgroundImage&quot;              assetID=&quot;0x000003DC00000001&quot;&gt; #./uigraphics/personSelection\\person_edit_background.bmp\n    &lt;DefineImage &quot;LeftArrowImage&quot;               assetID=&quot;0x000003F500000001&quot;&gt; #./uigraphics/personSelection\\person_edit_skinBrowserArrowLeft.bmp\n    &lt;DefineImage &quot;RightArrowImage&quot;              assetID=&quot;0x000003F600000001&quot;&gt; #./uigraphics/personSelection\\person_edit_skinBrowserArrowRight.bmp\n    &lt;DefineImage &quot;BodySkinButtonImage&quot;          assetID=&quot;0x000003DF00000001&quot;&gt; #./uigraphics/personSelection\\person_edit_bodySkinBtn.bmp\n    &lt;DefineImage &quot;HeadSkinButtonImage&quot;          assetID=&quot;0x000003E600000001&quot;&gt; #./uigraphics/personSelection\\person_edit_headSkinBtn.bmp\n    &lt;DefineImage &quot;CancelButtonImage&quot;            assetID=&quot;0x000003E000000001&quot;&gt; #./uigraphics/personSelection\\person_edit_cancelBtn.bmp\n    &lt;DefineImage &quot;FemaleButtonImage&quot;            assetID=&quot;0x000003E400000001&quot;&gt; #./uigraphics/personSelection\\person_edit_femaleBtn.bmp\n    &lt;DefineImage &quot;MaleButtonImage&quot;              assetID=&quot;0x000003EB00000001&quot;&gt; #./uigraphics/personSelection\\person_edit_maleBtn.bmp\n    &lt;DefineImage &quot;AcceptButtonImage&quot;            assetID=&quot;0x0000081C00000001&quot;&gt; #./uigraphics/personselection/person_edit_acceptbtn.bmp\n    &lt;DefineImage &quot;ExitButtonImage&quot;              assetID=&quot;0x0000081D00000001&quot;&gt; #./uigraphics/personselection/person_edit_closebtn.bmp\n    &lt;DefineImage &quot;SkinDarkButtonImage&quot;          assetID=&quot;0x0000081E00000001&quot;&gt; #./uigraphics/personselection/person_edit_skindarkbtn.bmp\n    &lt;DefineImage &quot;SkinLightButtonImage&quot;         assetID=&quot;0x0000081F00000001&quot;&gt; #./uigraphics/personselection/person_edit_skinlightbtn.bmp\n    &lt;DefineImage &quot;SkinMediumButtonImage&quot;        assetID=&quot;0x0000082000000001&quot;&gt; #./uigraphics/personselection/person_edit_skinmediumbtn.bmp\n    &lt;DefineImage &quot;ScrollbarImage&quot;               assetID=&quot;0x000003E200000001&quot;&gt; #./uigraphics/personselection/person_edit_descriptionslider.bmp\n    &lt;DefineImage &quot;ScrollDownButtonImage&quot;        assetID=&quot;0x0000082100000001&quot;&gt; #./uigraphics/personselection/person_edit_arrowdownbtn.bmp\n    &lt;DefineImage &quot;ScrollUpButtonImage&quot;          assetID=&quot;0x0000082200000001&quot;&gt; #./uigraphics/personselection/person_edit_arrowupbtn.bmp\n\n    # Strings --------------------------------------------------------------------------------------\n\n    &lt;Begin&gt;&lt;SetSharedProperties stringDir = &quot;UIText&quot; stringTable = 170&gt;\n\n        &lt;DefineString &quot;CancelButtonTooltip&quot;                     stringIndex = 1&gt;\n        &lt;DefineString &quot;AcceptButtonTooltip&quot;                     stringIndex = 2&gt;\n        &lt;DefineString &quot;NameTooltip&quot;                             stringIndex = 3&gt;\n        &lt;DefineString &quot;DescriptionTooltip&quot;                      stringIndex = 4&gt;\n        &lt;DefineString &quot;ExitButtonTooltip&quot;                       stringIndex = 5&gt;\n        &lt;DefineString &quot;FemaleButtonTooltip&quot;                     stringIndex = 6&gt;\n        &lt;DefineString &quot;MaleButtonTooltip&quot;                       stringIndex = 7&gt;\n        &lt;DefineString &quot;SkinLightButtonTooltip&quot;                  stringIndex = 8&gt;\n        &lt;DefineString &quot;SkinMediumButtonTooltip&quot;                 stringIndex = 9&gt;\n        &lt;DefineString &quot;SkinDarkButtonTooltip&quot;                   stringIndex = 10&gt;\n        &lt;DefineString &quot;InvalidNameErrorTitle&quot;                   stringIndex = 11&gt;\n        &lt;DefineString &quot;InvalidNameErrorShort&quot;                   stringIndex = 12&gt;\n        &lt;DefineString &quot;InvalidNameErrorLong&quot;                    stringIndex = 13&gt;\n        &lt;DefineString &quot;InvalidNameErrorNumeric&quot;                 stringIndex = 14&gt;\n        &lt;DefineString &quot;InvalidNameErrorApostrophe&quot;              stringIndex = 15&gt;\n        &lt;DefineString &quot;InvalidNameErrorDash&quot;                    stringIndex = 16&gt;\n        &lt;DefineString &quot;InvalidNameErrorSpace&quot;                   stringIndex = 17&gt;\n        &lt;DefineString &quot;InvalidNameErrorSpecial&quot;                 stringIndex = 18&gt;\n        &lt;DefineString &quot;InvalidNameErrorCensor&quot;                  stringIndex = 19&gt;\n        &lt;DefineString &quot;ScrollUpTooltip&quot;                         stringIndex = 20&gt;\n        &lt;DefineString &quot;ScrollDownTooltip&quot;                       stringIndex = 21&gt;\n        &lt;DefineString &quot;TitleLabelText&quot;                          stringIndex = 22&gt;\n        &lt;DefineString &quot;DefaultAvatarDescription&quot;                stringIndex = 23&gt;\n        &lt;DefineString &quot;ProgressDialogTitle&quot;                     stringIndex = 24&gt;\n        &lt;DefineString &quot;ProgressDialogMessage&quot;                   stringIndex = 25&gt;\n\n    &lt;End&gt;\n\n    # Controls -------------------------------------------------------------------------------------    \n\n    &lt;AddButton &quot;CancelButton&quot; id=1 image=&quot;CancelButtonImage&quot;  position=(743,58)  tooltip=&quot;CancelButtonTooltip&quot;&gt;\n    &lt;AddButton &quot;AcceptButton&quot; id=2 image=&quot;AcceptButtonImage&quot;  position=(743,114) tooltip=&quot;AcceptButtonTooltip&quot;&gt;\n\n    &lt;AddTextEdit &quot;NameTextEdit&quot; \n\n                id = 3\n    \n                position        = (22,52)  \n                size            = (230,18) \n                font            = 9 \n                lines           = 1\n                capacity        = 24\n                frameOnFocus    = 0\n                color           = (255,249,157) \n                backColor       = (0,0,0)\n                cursorColor     = (255,255,255)\n                frameColor      = (255,249,157)\n                transparent     = 1\n                alignment       = 3\n                flashOnEmpty    = 1\n\n                toolTip = &quot;NameTooltip&quot;\n    &gt;   \n\n    &lt;AddTextEdit &quot;DescriptionTextEdit&quot; \n\n                id = 4\n    \n                position        = (33,364)  \n                size            = (194,195) \n                font            = 9 \n                lines           = 10\n                capacity        = 499\n                frameOnFocus    = 0\n                color           = (255,249,157) \n                backColor       = (0,0,0)\n                cursorColor     = (255,255,255)\n                frameColor      = (255,249,157)\n                transparent     = 1\n\n                toolTip = &quot;DescriptionTooltip&quot;\n    &gt;   \n\n    &lt;AddSlider &quot;DescriptionSlider&quot;              id = 5 image = &quot;ScrollbarImage&quot;         position=(244,370) size=(10,182) orientation=1 &gt;\n    &lt;AddButton &quot;DescriptionScrollUpButton&quot;      id = 6 image = &quot;ScrollUpButtonImage&quot;    position=(240,360)  tooltip=&quot;ScrollUpTooltip&quot;&gt;\n    &lt;AddButton &quot;DescriptionScrollDownButton&quot;    id = 7 image = &quot;ScrollDownButtonImage&quot;  position=(241,557)  tooltip=&quot;ScrollDownTooltip&quot;&gt;\n\n    &lt;AddButton &quot;ExitButton&quot; id=8 position=(762,8) image=&quot;ExitButtonImage&quot; tooltip=&quot;ExitButtonTooltip&quot;&gt;\n\n    # body buttons\n\n    &lt;Begin&gt;&lt;SetSharedProperties tracking=1 trigger=1&gt;\n    \n        &lt;AddButton &quot;FemaleButton&quot;       id=9  image=&quot;FemaleButtonImage&quot;     position=(292,142) tooltip=&quot;FemaleButtonTooltip&quot;&gt;\n        &lt;AddButton &quot;MaleButton&quot;         id=10 image=&quot;MaleButtonImage&quot;       position=(292,198) tooltip=&quot;MaleButtonTooltip&quot;&gt;\n        &lt;AddButton &quot;SkinLightButton&quot;    id=11 image=&quot;SkinLightButtonImage&quot;  position=(294,271) tooltip=&quot;SkinLightButtonTooltip&quot;&gt;\n        &lt;AddButton &quot;SkinMediumButton&quot;   id=12 image=&quot;SkinMediumButtonImage&quot; position=(294,321) tooltip=&quot;SkinMediumButtonTooltip&quot;&gt;\n        &lt;AddButton &quot;SkinDarkButton&quot;     id=13 image=&quot;SkinDarkButtonImage&quot;   position=(294,372) tooltip=&quot;SkinDarkButtonTooltip&quot;&gt;\n\n    &lt;End&gt;\n\n    # skin browsers\n\n    &lt;Begin&gt;&lt;SetSharedProperties leftArrowImage=&quot;LeftArrowImage&quot; rightArrowImage=&quot;RightArrowImage&quot; &gt;\n\n        &lt;SetControlProperties &quot;HeadSkinBrowser&quot; \n            \n            position            =   (378,77)\n            size                =   (326,210)\n            thumbSize           =   (39,44)\n            thumbMargins        =   (6,8)\n            thumbImageSize      =   (33,33)\n            thumbImageOffsets   =   (2,2)\n            thumbButtonImage    =   &quot;HeadSkinButtonImage&quot;\n        &gt;\n        \n        &lt;SetControlProperties &quot;BodySkinBrowser&quot;\n        \n            position            =   (370,348)\n            size                =   (366,220)\n            thumbSize           =   (39,78)\n            thumbMargins        =   (6,6)\n            thumbImageSize      =   (33,70)\n            thumbImageOffsets   =   (2,2)\n            thumbButtonImage    =   &quot;BodySkinButtonImage&quot;\n        &gt;\n\n    &lt;End&gt;\n\n    # Person 3d VitaBoy view ----------------------------------------------------------------------\n\n    &lt;SetControlProperties &quot;Person3dView&quot; position=(70,88) size=(140,200)&gt;\n\n    # Title Text ------------------------------------------------------------------------------------------------------------\n\n    &lt;AddText &quot;TitleLabel&quot; id=14 position=(100,11) size=(620,20) font=12 color=(255,249,157) alignment=3 opaque=0 text=&quot;TitleLabelText&quot;&gt;\n    \n&lt;End&gt;\n</code></pre>\n\n",
    "PostedDate": "2015-10-24T08:03:36.067-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]