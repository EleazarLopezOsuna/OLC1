[
  {
    "Id": "1470483",
    "ThreadId": "653689",
    "Html": "Hi, I have created the next easy grammar:<br />\n<pre><code>RegexBasedTerminal anyText = new RegexBasedTerminal(&quot;anyText&quot;, &quot;[^;]*;&quot;);\n\nNonTerminal commands = new NonTerminal(&quot;commands&quot;),\ncommand = new NonTerminal(&quot;command&quot;),\ninsertStatement = new NonTerminal(&quot;insertStatement&quot;),\nupdateStatement = new NonTerminal(&quot;updateStatement&quot;),\ndeleteStatement = new NonTerminal(&quot;deleteStatement&quot;),\ncreateStatement = new NonTerminal(&quot;createStatement&quot;),\ndropStatement = new NonTerminal(&quot;dropStatement&quot;),\nselectStatement = new NonTerminal(&quot;selectStatement&quot;),\ncommitStatement = new NonTerminal(&quot;commitStatement&quot;);\n\ncommands.Rule = command | command + commands;\ncommand.Rule = insertStatement | updateStatement | deleteStatement \n    | createStatement | dropStatement | selectStatement | commitStatement;\ninsertStatement.Rule = ToTerm(&quot;INSERT&quot;, typeof(BinaryOperationNode)) + anyText;\nupdateStatement.Rule = ToTerm(&quot;UPDATE&quot;) + anyText;\ndeleteStatement.Rule = ToTerm(&quot;DELETE&quot;) + anyText;\ncreateStatement.Rule = ToTerm(&quot;CREATE&quot;) + anyText;\ndropStatement.Rule = ToTerm(&quot;DROP&quot;) + anyText;\nselectStatement.Rule = ToTerm(&quot;SELECT&quot;) + anyText;\ncommitStatement.Rule = ToTerm(&quot;COMMIT&quot;) + anyText;\n\nthis.Root = commands;</code></pre>\n\nAfter, that, I am getting the result with:<br />\n<pre><code>DsnGram dsnGram = new DsnGram();\nLanguageData languageData = new LanguageData(dsnGram);\nParser parserCommands = new Parser(languageData);\nParseTree parseTree = parserCommands.Parse(File.ReadAllText(sysinLseqFn));\nParseTreeNode dsnCommands = parseTree.Root;</code></pre>\n\nWhere sysinLseqFn contains: <br />\n<br />\nDROP TABLE TESTJ; <br />\nCREATE TABLE TESTJ (F1 CHAR(3) not null); <br />\nINSERT INTO TESTJ VALUES('AAA'); <br />\nSELECT * FROM TESTJ; <br />\n<br />\nThe problem is that in the TreeNode, the first statement is &quot;CREATE ..&quot; instead of &quot;DROP ...&quot; because the TreeNode is sorted: <br />\n<br />\n[DEBUG] commands <br />\n[DEBUG] command <br />\n[DEBUG] createStatement <br />\n[DEBUG] CREATE (Keyword) <br />\n[DEBUG] TABLE TESTJ (F1 CHAR(3) not null); (anyText) <br />\n[DEBUG] commands <br />\n[DEBUG] command <br />\n[DEBUG] dropStatement <br />\n[DEBUG] DROP (Keyword) <br />\n[DEBUG] TABLE TESTJ; (anyText) <br />\n[DEBUG] commands <br />\n[DEBUG] command <br />\n[DEBUG] dropStatement <br />\n[DEBUG] DROP (Keyword) <br />\n[DEBUG] TABLE TESTJ; (anyText) <br />\n[DEBUG] commands <br />\n[DEBUG] command <br />\n[DEBUG] insertStatement <br />\n[DEBUG] INSERT (Keyword) <br />\n[DEBUG] INTO TESTJ VALUES('AAA'); (anyText) <br />\n[DEBUG] commands <br />\n[DEBUG] command <br />\n[DEBUG] selectStatement <br />\n[DEBUG] SELECT (Keyword) <br />\n[DEBUG] * FROM TESTJ; (anyText) <br />\n<br />\nHow could I get the TreeNode unsorted? <br />\n<br />\nThanks in advance!<br />\n",
    "PostedDate": "2016-04-18T02:49:45.12-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1470682",
    "ThreadId": "653689",
    "Html": "Somehow it shows empty question for me... but I did receive it email notification, so reproducing it: \r<br />\n<br />\nHi, I have created the next easy grammar:<br />\n<pre><code>    RegexBasedTerminal anyText = new RegexBasedTerminal(&quot;anyText&quot;, &quot;[^;]*;&quot;);\n\n    NonTerminal commands = new NonTerminal(&quot;commands&quot;),\n    command = new NonTerminal(&quot;command&quot;),\n    insertStatement = new NonTerminal(&quot;insertStatement&quot;),\n    updateStatement = new NonTerminal(&quot;updateStatement&quot;),\n    deleteStatement = new NonTerminal(&quot;deleteStatement&quot;),\n    createStatement = new NonTerminal(&quot;createStatement&quot;),\n    dropStatement = new NonTerminal(&quot;dropStatement&quot;),\n    selectStatement = new NonTerminal(&quot;selectStatement&quot;),\n    commitStatement = new NonTerminal(&quot;commitStatement&quot;);\n\n    commands.Rule = command | command + commands;\n    command.Rule = insertStatement | updateStatement | deleteStatement \n        | createStatement | dropStatement | selectStatement | commitStatement;\n    insertStatement.Rule = ToTerm(&quot;INSERT&quot;, typeof(BinaryOperationNode)) + anyText;\n    updateStatement.Rule = ToTerm(&quot;UPDATE&quot;) + anyText;\n    deleteStatement.Rule = ToTerm(&quot;DELETE&quot;) + anyText;\n    createStatement.Rule = ToTerm(&quot;CREATE&quot;) + anyText;\n    dropStatement.Rule = ToTerm(&quot;DROP&quot;) + anyText;\n    selectStatement.Rule = ToTerm(&quot;SELECT&quot;) + anyText;\n    commitStatement.Rule = ToTerm(&quot;COMMIT&quot;) + anyText;\n\n    this.Root = commands;</code></pre>\n\nAfter, that, I am getting the result with:<br />\n<pre><code>    DsnGram dsnGram = new DsnGram();\n    LanguageData languageData = new LanguageData(dsnGram);\n    Parser parserCommands = new Parser(languageData);\n    ParseTree parseTree = parserCommands.Parse(File.ReadAllText(sysinLseqFn));\n    ParseTreeNode dsnCommands = parseTree.Root;</code></pre>\n\nWhere sysinLseqFn contains: \r<br />\n<br />\nDROP TABLE TESTJ; \r<br />\nCREATE TABLE TESTJ (F1 CHAR(3) not null); \r<br />\nINSERT INTO TESTJ VALUES('AAA'); \r<br />\nSELECT * FROM TESTJ; \r<br />\n<br />\nThe problem is that in the TreeNode, the first statement is &quot;CREATE ..&quot; instead of &quot;DROP ...&quot; because the TreeNode is sorted: \r<br />\n<br />\n[DEBUG] commands \r<br />\n[DEBUG] command \r<br />\n[DEBUG] createStatement \r<br />\n[DEBUG] CREATE (Keyword) \r<br />\n[DEBUG] TABLE TESTJ (F1 CHAR(3) not null); (anyText) \r<br />\n[DEBUG] commands \r<br />\n[DEBUG] command \r<br />\n[DEBUG] dropStatement \r<br />\n[DEBUG] DROP (Keyword) \r<br />\n[DEBUG] TABLE TESTJ; (anyText) \r<br />\n[DEBUG] commands \r<br />\n[DEBUG] command \r<br />\n[DEBUG] dropStatement \r<br />\n[DEBUG] DROP (Keyword) \r<br />\n[DEBUG] TABLE TESTJ; (anyText) \r<br />\n[DEBUG] commands \r<br />\n[DEBUG] command \r<br />\n[DEBUG] insertStatement \r<br />\n[DEBUG] INSERT (Keyword) \r<br />\n[DEBUG] INTO TESTJ VALUES('AAA'); (anyText) \r<br />\n[DEBUG] commands \r<br />\n[DEBUG] command \r<br />\n[DEBUG] selectStatement \r<br />\n[DEBUG] SELECT (Keyword) \r<br />\n[DEBUG] * FROM TESTJ; (anyText) \r<br />\n<br />\nHow could I get the TreeNode unsorted? \r<br />\n<br />\nThanks in advance!<br />\n",
    "PostedDate": "2016-04-19T15:33:28.173-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1470683",
    "ThreadId": "653689",
    "Html": "I think you should try using MakePlusList for commands nonterminal - in this case it would produce flat list, and it should be in proper order<br />\n",
    "PostedDate": "2016-04-19T15:37:55.193-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1470701",
    "ThreadId": "653689",
    "Html": "Thanks Rivantsov! It solved the problem.<br />\n",
    "PostedDate": "2016-04-19T23:21:06.013-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]